"use strict";function removeMeFromGroup(){console.log("eimai unavailable");connection.invoke("RemoveFromGroupAvailable").catch(function(n){return console.error(n.toString())})}function addMeToGroup(){console.log("eimai available");connection.invoke("AddToGroupAvailable").catch(function(n){return console.error(n.toString())})}function ETA(n){navigator.geolocation.getCurrentPosition(function(t){var r=t.coords.latitude.toFixed(6),u=t.coords.longitude.toFixed(6),i=r+", "+u;console.log(i);console.log(n);calculateDistance(i,n)})}function calculateDistance(n,t){var u=n,i,r;console.log(n);i=t;r=new google.maps.DistanceMatrixService;r.getDistanceMatrix({origins:[u],destinations:[i],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.metric,avoidHighways:!1,avoidTolls:!1},callback)}function callback(n,t){if(t!=google.maps.DistanceMatrixStatus.OK)$("#result").html(err);else{var i=n.originAddresses[0],r=n.destinationAddresses[0];n.rows[0].elements[0].status==="ZERO_RESULTS"?$("#result").html("Better get on a plane. There are no roads between "+i+" and "+r):(console.log(n.rows[0].elements[0].distance.text),console.log(n.rows[0].elements[0].duration.text))}}function notifyMe(){if("Notification"in window)if(Notification.permission==="granted")var n=new Notification("You have a new order");else Notification.permission!=="denied"&&Notification.requestPermission().then(function(n){if(n==="granted")var t=new Notification("You have a new order")});else alert("This browser does not support desktop notification")}var connection=(new signalR.HubConnectionBuilder).withUrl("/Comms/Hubs/MainHub").build();connection.start().catch(function(n){return console.error(n.toString())});connection.on("NewOrder",(n,t,i,r)=>{console.log(n),console.log(t),console.log(i),console.log(r),notifyMe(),console.log("eimai prin to promise"),ETA(t)});connection.on("OrderRemove",()=>{});